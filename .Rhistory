fillOpacity = 0.5, color = ~pal(DISTNAME))
#addCircleMarkers(data = chi,
#                 lng = ~LON, lat = ~LAT, popup = ~as.character(Median.Household.Income))
p.test
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods, smoothFactor = 0.2, stroke = F,
fillOpacity = 0.5, color = ~pal(DISTNAME))
#addCircleMarkers(data = chi,
#                 lng = ~LON, lat = ~LAT, popup = ~as.character(Median.Household.Income))
p.test
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods, smoothFactor = 0.2, stroke = F,
fillOpacity = 0.75, color = ~pal(DISTNAME))
p.test
p.test <- leaflet() %>%
addPolygons(data = hoods, smoothFactor = 0.2, stroke = T,
addTiles() %>%
fillOpacity = 0.75, color = ~pal(DISTNAME))
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods, smoothFactor = 0.2, stroke = T,
fillOpacity = 0.75, color = ~pal(DISTNAME))
#addCircleMarkers(data = chi,
#                 lng = ~LON, lat = ~LAT, popup = ~as.character(Median.Household.Income))
p.test
geneorama::loadinstall_libraries(c("geneorama", "knitr", "data.table", "ggplot2"))
require("magrittr")
require(rgdal)
require("rgdal")
require("leaflet")
#test plot
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods, smoothFactor = 0.2, stroke = T,
fillOpacity = 0.75, color = ~pal(DISTNAME))
#addCircleMarkers(data = chi,
#                 lng = ~LON, lat = ~LAT, popup = ~as.character(Median.Household.Income))
p.test
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods, smoothFactor = 0.2, stroke = T,
fillOpacity = 0.75, color = ~pal(DISTNAME)) %>%
addPolygons(data = tracts, smoothFactor = 0.2, stroke = T,
fillOpacity = 0.75)
#addCircleMarkers(data = chi,
#                 lng = ~LON, lat = ~LAT, popup = ~as.character(Median.Household.Income))
p.test
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods, smoothFactor = 0.2, stroke = T,
fillOpacity = 0.75, color = ~pal(DISTNAME)) %>%
#addCircleMarkers(data = chi,
#                 lng = ~LON, lat = ~LAT, popup = ~as.character(Median.Household.Income))
p.test
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods, smoothFactor = 0.2, stroke = T,
fillOpacity = 0.75, color = ~pal(DISTNAME))
#addCircleMarkers(data = chi,
#                 lng = ~LON, lat = ~LAT, popup = ~as.character(Median.Household.Income))
p.test
unique(chi$City..Suburb)
head(hoods@data)
pal <- colorNumeric(palette = "Reds", domain = hoods$MEDRENT)
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods, smoothFactor = 0.2, stroke = T,
fillOpacity = 0.75, color = ~pal(DISTNAME))
#addCircleMarkers(data = chi,
#                 lng = ~LON, lat = ~LAT, popup = ~as.character(Median.Household.Income))
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods, smoothFactor = 0.2, stroke = T,
fillOpacity = 0.75, color = ~pal(MEDRENT))
#addCircleMarkers(data = chi,
#                 lng = ~LON, lat = ~LAT, popup = ~as.character(Median.Household.Income))
p.test
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods, smoothFactor = 0.2, stroke = T,
fillOpacity = 0.75, color = ~pal(MEDRENT), popup = ~DISTITLE)
p.test
head(tracts@data)
str(tracts@data)
str(hoods@data)
str(unique(chi$Community.Area))
str(unique(hoods$DISTITLE))
heads(tracts@data)
head(tracts@data)
pal <- colorNumeric(palette = "http://colorbrewer2.org/?type=diverging&scheme=RdGy&n=3", domain = hoods$MEDRENT)
pal <- colorNumeric(palette = ['#e5f5f9','#99d8c9','#2ca25f'], domain = hoods$MEDRENT)
install.packages("RColorBrewer")
require("RColorBrewer")
display.brewer.all()
display.brewer.all(7,"BrBg")
display.brewer.all(7,"BrBG")
display.brewer.pal(7,"BrBG")
display.brewer.pal(7,"RdGy")
pal <- colorNumeric(palette = brewer.pal(7,"RdGy"), domain = hoods$MEDRENT)
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0.75,
color = ~pal(MEDRENT),
popup = ~DISTITLE)
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
head(hoods$MEDRENT)
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0.75,
color = ~pal(MEDRENT),
popup = ~as.character(MEDRENT))
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0.75,
color = ~pal(MEDRENT),
popup = ~as.character(MEDRENT))
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0.75,
color = ~pal(MEDRENT),
popup = ~DISTITLE & "\n" & as.character(MEDRENT))
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
head(hoods@data)
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0.75,
color = ~pal(MEDRENT),
popup = ~as.character(DISTITLE) & "\n" & as.character(MEDRENT))
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0.75,
color = ~pal(MEDRENT),
popup = ~as.character(DISTITLE & "\n" & MEDRENT))
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0.75,
color = ~pal(MEDRENT),
popup = ~as.character(MEDRENT))
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
head(hoods@data)
str(hoods@data)
as.character(hoods$DISTITLE)
hoods$DISTITLE <- as.character(hoods$DISTITLE)
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0.75,
color = ~pal(MEDRENT),
popup = ~as.character(MEDRENT))
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
str(hoods@data)
hoods$DISTITLE <- toupper(hoods$DISTITLE)
str(hoods@data)
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0.75,
color = ~pal(MEDRENT),
popup = ~as.character(MEDRENT))
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
hoods$DISTITLE
chi$Community.Area
unique(chi$Community.Area)
ordered(hoods$DISTITLE)
sort(hoods$DISTITLE)
sort(unique(chi$Community.Area))
sort(hoods$DISTITLE)
sort(hoods$DISTITLE) = sort(unique(chi$Community.Area))
sort(hoods$DISTITLE) == sort(unique(chi$Community.Area))
hoods@data = data.frame(hoods@data, chi[match(hoods@data[,by], chi[,by]),])
hoods@data = data.frame(hoods@data, chi[match(hoods@data[,by], chi[,by]),])
hoods@data <- data.frame(hoods@data, chi[match(hoods@data[,by], chi[,by]),])
hoods@data
str(hoods@data)
str(tracts@data)
tracts <- subset(tracts, tracts$GEOID %in% chi$TRACTFIPS10)
head(tracts@data)
str(tracts@data)
str(chi)
tracts$GEOID <- as.numeric(tracts$GEOID)
str(tracts@data)
tracts@data
head(tracts@data)
tracts <- readOGR(dsn = ".", layer = "cb_2014_17_tract_500k", verbose = F)
require("rgdal")
tracts <- readOGR(dsn = ".", layer = "cb_2014_17_tract_500k", verbose = F)
tracts <- subset(tracts, tracts$GEOID %in% chi$TRACTFIPS10)
data.frame(tracts@data, chi[match(tracts@data$GEOID, chi$TRACTFIPS10),])
head(data.frame(tracts@data, chi[match(tracts@data$GEOID, chi$TRACTFIPS10),]))
tracts@data = data.frame(tracts@data, chi[match(tracts@data$GEOID, chi$TRACTFIPS10),])
pal <- colorNumeric(palette = brewer.pal(7,"RdGy"),
domain = tracts@data$Median.Gross.Rent)
require("magrittr")
require("rgdal")
require("leaflet")
require("RColorBrewer")
pal <- colorNumeric(palette = brewer.pal(7,"RdGy"),
domain = tracts@data$Median.Gross.Rent)
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = tracts,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0.75,
color = ~pal(Median.Gross.Rent),
popup = ~as.character(Median.Gross.Rent))
p.test
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = tracts,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0,
color = ~pal(Median.Gross.Rent),
popup = ~as.character(Median.Gross.Rent))
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0,
color = "blue") %>%
addPolygons(data = tracts,
smoothFactor = 0.2,
stroke = F,
fillOpacity = 0.75,
color = ~pal(Median.Gross.Rent),
popup = ~as.character(Median.Gross.Rent))
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
display.brewer.pal(7,"RdGy")
display.brewer.pal(7,"PuBu")
pal <- colorNumeric(palette = brewer.pal(7,"PuBu"),
domain = tracts@data$Median.Gross.Rent)
#test plot
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0,
color = "blue") %>%
addPolygons(data = tracts,
smoothFactor = 0.2,
stroke = F,
fillOpacity = 0.75,
color = ~pal(Median.Gross.Rent),
popup = ~as.character(Median.Gross.Rent))
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
require("leaflet")
require("magrittr")
require("rgdal")
require("leaflet")
require("RColorBrewer")
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0,
color = "blue") %>%
addPolygons(data = tracts,
smoothFactor = 0.2,
stroke = F,
fillOpacity = 0.75,
color = ~pal(Median.Gross.Rent),
popup = ~as.character(Median.Gross.Rent))
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
p.hoods + geom_bar(aes(x = Community.Area, y = ..count..))
geneorama::loadinstall_libraries(c("geneorama", "knitr", "data.table", "ggplot2"))
p.hoods + geom_bar(aes(x = Community.Area, y = ..count..))
p.rents <- ggplot(data = chi)
p.rents + geom_histogram()
p.rents + geom_histogram(aes(x = Median.Gross.Rent))
p.rents + geom_boxplot(aes(x = Median.Gross.Rent))
p.rents + geom_boxplot(aes(y = Median.Gross.Rent))
p.rents + geom_boxplot(aes(y = Median.Gross.Rent, x = 1))
p.rents + geom_histogram(aes(x = Median.Gross.Rent))
p.rents +
geom_histogram(aes(x = Median.Gross.Rent)) +
scale_x_continuous(name = "Median Gross Rent") +
ggtitle("Distribution of Median Gross Rent per Chicago Census Tracts")
source('D:/CSC465/CSC465/ChiAfford.R', echo=TRUE)
tracts@data
str(tracts@data )
tract_popup <- paste0("Neighborhood: ",
tracts@data$Community.Area,
"Median Gross Rent",
tracts@data$Median.Gross.Rent)
tract_popup <- paste0("Neighborhood: ",
tracts@data$Community.Area,
"\n",
"Median Gross Rent",
tracts@data$Median.Gross.Rent)
tract_popup <- paste0("Neighborhood: ",
tracts@data$Community.Area,
"\\n",
"Median Gross Rent",
tracts@data$Median.Gross.Rent)
tract_popup <- paste0("Neighborhood: ",
tracts@data$Community.Area,
"\\\n",
"Median Gross Rent",
tracts@data$Median.Gross.Rent)
tracts@data$Community.Area,
tract_popup <- paste0("<p>Neighborhood: ",
tracts@data$Community.Area,
"</p>",
"Median Gross Rent",
tracts@data$Median.Gross.Rent)
tract_popup <- paste0("<p>Neighborhood: ",
tracts@data$Community.Area,
"</p>",
"Median Gross Rent",
as.character(tracts@data$Median.Gross.Rent))
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0,
color = "blue") %>%
addPolygons(data = tracts,
smoothFactor = 0.2,
stroke = F,
fillOpacity = 0.75,
color = ~pal(Median.Gross.Rent),
popup = tract_popup)
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
#concatenate strings for a more descriptive popup
tract_popup <- paste0("Neighborhood: ",
tracts@data$Community.Area,
"\n",
"Median Gross Rent: ",
as.character(tracts@data$Median.Gross.Rent))
#test plot
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0,
color = "blue") %>%
addPolygons(data = tracts,
smoothFactor = 0.2,
stroke = F,
fillOpacity = 0.75,
color = ~pal(Median.Gross.Rent),
popup = tract_popup)
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
tract_popup <- paste0("Neighborhood: ",
tracts@data$Community.Area,
"\n\n",
"Median Gross Rent: ",
as.character(tracts@data$Median.Gross.Rent))
#test plot
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0,
color = "blue") %>%
addPolygons(data = tracts,
smoothFactor = 0.2,
stroke = F,
fillOpacity = 0.75,
color = ~pal(Median.Gross.Rent),
popup = tract_popup)
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
tract_popup <- paste0("<p>Neighborhood: ",
tracts@data$Community.Area,
"</p>",
"Median Gross Rent: ",
as.character(tracts@data$Median.Gross.Rent))
#test plot
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0,
color = "blue") %>%
addPolygons(data = tracts,
smoothFactor = 0.2,
stroke = F,
fillOpacity = 0.75,
color = ~pal(Median.Gross.Rent),
popup = tract_popup)
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
tract_popup <- paste0("<p>Neighborhood: ",
tracts@data$Community.Area,
"</p>",
"Median Gross Rent: $",
as.character(tracts@data$Median.Gross.Rent))
#test plot
p.test <- leaflet() %>%
addTiles() %>%
addPolygons(data = hoods,
smoothFactor = 0.2,
stroke = T,
fillOpacity = 0,
color = "blue") %>%
addPolygons(data = tracts,
smoothFactor = 0.2,
stroke = F,
fillOpacity = 0.75,
color = ~pal(Median.Gross.Rent),
popup = tract_popup)
#   addCircleMarkers(data = chi,
#                    lng = ~LON,
#                    lat = ~LAT,
#                    popup = ~as.character(Median.Household.Income))
p.test
